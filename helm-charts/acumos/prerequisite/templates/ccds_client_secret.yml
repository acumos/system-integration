apiVersion: v1
kind: Secret
metadata:
  name: ccdsclientsecret
  namespace: "{{ .Values.global.namespace }}"
type: Opaque
data:
  {{ if (.Values.global.acumosCdsUser) }}
  username: {{ b64enc (.Values.global.acumosCdsUser) }}
  {{ if (.Values.global.acumosCdsPassword) }}
  password: {{ b64enc (.Values.global.acumosCdsPassword) }}
  {{ else if ne .Values.global.acumosCdsPassword "ccds_client" }}
  password: {{ b64enc (randAlphaNum 8) }}
  {{ end }}
